{"version":3,"sources":["components/Post.module.css","components/Signup.module.css","components/NewPost.module.css","components/Login.module.css","components/Navbar.module.css","components/Profile.module.css","components/Header.module.css","components/PostThumbnail.module.css","components/App.module.css","utils/uniqueId.js","contexts/StoreContext.js","utils/publicUrl.js","utils/timespan.js","components/Post.js","components/Home.js","components/Header.js","components/Navbar.js","components/Explore.js","components/FileLoader.js","components/NewPost.js","components/Activity.js","components/PostThumbnail.js","components/Profile.js","components/Login.js","components/Signup.js","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","prefix","id","Date","valueOf","toString","milliseconds","start","getTime","i","sleep","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","StoreContextProvider","props","useState","currentUserId","setCurrentUserId","users","setUsers","posts","setPosts","likes","setLikes","followers","setFollowers","comments","setComments","history","useHistory","useEffect","collection","get","then","snapshot","u","docs","map","d","data","p","c","l","f","Provider","value","signup","email","password","bio","name","photo","user","createUserWithEmailAndPassword","add","concat","push","login","signInWithEmailAndPassword","response","console","log","where","addComment","postId","text","comment","userId","datetime","toISOString","addLike","like","removeLike","filter","forEach","doc","ref","delete","addPost","desc","post","uniqueId","addFollower","followerId","follower","removeFollower","filteredFollowers","children","StoreContext","createContext","publicUrl","assetPath","startsWith","process","timespan","date","seconds","Math","floor","interval","Post","setComment","toggleComment","setToggleComment","className","css","postHeader","profilePicture","src","alt","to","postImage","self","onClick","onUnlike","bubble","onLike","e","numberOfLikes","count","description","length","arr","renderComments","onSubmit","event","onComment","preventDefault","type","placeholder","onChange","target","Home","useContext","useParams","findUser","find","findComments","findLikes","postLikes","some","sort","a","b","Header","header","headerItem","Navbar","navbar","navItem","Explore","FileLoader","handleDragEnter","bind","handleDrop","handleDragOver","handleDragLeave","stopPropagation","this","onDrop","dragTargetSaved","onDragEnter","dataTransfer","types","includes","onDragOver","onDragLeave","child","React","Children","only","cloneElement","PureComponent","NewPost","dragging","setDragging","setDesc","setPhoto","error","setError","message","files","file","size","match","reader","FileReader","onloadend","e2","result","readAsDataURL","dropArea","join","textarea","actions","goBack","Activity","PostThumbnail","square","content","image","Profile","currentUser","userPosts","params","followerCount","followingCount","handleFollow","handleUnfollow","undefined","profile","profileInfo","profilePic","stats","thumbnails","index","renderThumbnails","Login","setEmail","setPassword","container","loginForm","loginBtn","signupBtn","Signup","setId","setBio","setName","signupForm","row","App","basename","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5f233c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__hw-08\",\"postHeader\":\"Post_postHeader__SB-fC\",\"profilePicture\":\"Post_profilePicture__3dukW\",\"postImage\":\"Post_postImage__1hEu_\",\"numberOfLikes\":\"Post_numberOfLikes__3sPL5\",\"bubble\":\"Post_bubble__w8hHw\",\"datetime\":\"Post_datetime__1Znj5\",\"comment\":\"Post_comment__1cYeu\",\"description\":\"Post_description__2B3Ln\",\"addComment\":\"Post_addComment__aGSqH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Signup_container__1My4V\",\"header\":\"Signup_header__2jh3B\",\"signupForm\":\"Signup_signupForm__3r9xT\",\"signupBtn\":\"Signup_signupBtn__PUM88\",\"error\":\"Signup_error__3jhGR\",\"login\":\"Signup_login__1DXJT\",\"loginBtn\":\"Signup_loginBtn__1HRef\",\"photo\":\"Signup_photo__1JCJK\",\"dropArea\":\"Signup_dropArea__R0VJf\",\"dragging\":\"Signup_dragging__2seFW\",\"message\":\"Signup_message__js908\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"NewPost_photo__2GXN3\",\"dropArea\":\"NewPost_dropArea__1QAEl\",\"dragging\":\"NewPost_dragging__3GXy5\",\"message\":\"NewPost_message__3BUtG\",\"image\":\"NewPost_image__2e7fR\",\"desc\":\"NewPost_desc__lYGQI\",\"textarea\":\"NewPost_textarea__1ZsCr\",\"actions\":\"NewPost_actions__1uqzu\",\"error\":\"NewPost_error__3yRfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1KAHG\",\"header\":\"Login_header__3r3Xa\",\"loginForm\":\"Login_loginForm__dVtd9\",\"loginBtn\":\"Login_loginBtn__1MADX\",\"error\":\"Login_error__3xvcX\",\"signup\":\"Login_signup__2acWd\",\"signupBtn\":\"Login_signupBtn__378WI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3I-Sz\",\"profileInfo\":\"Profile_profileInfo__31Oyy\",\"profilePic\":\"Profile_profilePic__2TVpb\",\"userId\":\"Profile_userId__CizNI\",\"stats\":\"Profile_stats__ST0M5\",\"posts\":\"Profile_posts__rwx78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"headerItem\":\"Header_headerItem__3qR-F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"PostThumbnail_square__1mMZc\",\"content\":\"PostThumbnail_content__23flp\",\"image\":\"PostThumbnail_image__3J_3H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__6j1zw\",\"content\":\"App_content__1dlDM\"};","  \nfunction sleep(milliseconds) {\n\tvar start = new Date().getTime();\n\tfor (var i = 0; i < 1e7; i++) {\n\t\tif ((new Date().getTime() - start) > milliseconds){\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nexport default (prefix) => { // TODO use shortid \n\tlet id = new Date().valueOf().toString(36);\n\tsleep(1);// wait for one millisecond\n\treturn (prefix ? prefix + id\t: id);\n};","\nimport React, {createContext, useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom'\nimport uniqueId from '../utils/uniqueId';\n\n// firebase setup\nimport firebase from 'firebase';\nimport 'firebase/database';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC1tpy8L2GpnMJ7rpn2M7b-3kWzaSRYO8c\",\n    authDomain: \"myproject-27cde.firebaseapp.com\",\n    projectId: \"myproject-27cde\",\n    storageBucket: \"myproject-27cde.appspot.com\",\n    messagingSenderId: \"112814643316\",\n    appId: \"1:112814643316:web:d6f4ba5f324f059affd921\",\n    measurementId: \"G-C0W1JYLFX5\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst auth = firebase.auth();\n\nfunction StoreContextProvider(props) {\n\n    // firebase to fetch data\n    const [currentUserId, setCurrentUserId] = useState(null); // or 'judy'\n    const [users, setUsers] = useState([]);\n    const [posts, setPosts] = useState([]);\n    const [likes, setLikes] = useState([]);\n    const [followers, setFollowers] = useState([]);\n    const [comments, setComments] = useState([]);\n    const history = useHistory();\n\n    // initialization\n    useEffect(()=>{\n        db.collection('users').get().then(snapshot=>{\n            const u = snapshot.docs.map(d=>d.data());\n            setUsers(u);\n        });\n        db.collection('posts').get().then(snapshot=>{\n            const p = snapshot.docs.map(d=>d.data());\n            setPosts(p);\n        });\n        db.collection('comments').get().then(snapshot => {\n            const c = snapshot.docs.map(d => d.data());\n            setComments(c);\n        });\n        db.collection('likes').get().then(snapshot => {\n            const l = snapshot.docs.map(d => d.data());\n            setLikes(l)\n        });\n        db.collection('followers').get().then(snapshot => {\n            const f = snapshot.docs.map(d => d.data());\n            setFollowers(f);\n        })\n      }, []); // second argument to [] to be called only once\n\n    // login function\n    function login(user, password) {\n        // try log the user in\n        auth.signInWithEmailAndPassword(user, password)\n            .then( response => {\n                // get user info\n                console.log('fetching email: ' + response.user.email);\n\n                db.collection('users')\n                    .where('email', '==', response.user.email)\n                    .get()\n                    .then(snapshot => {\n                        \n                        // first document's data is the user data\n                        setCurrentUserId(snapshot.docs[0].data().id);\n                        \n                        // reroute to home page\n                        history.push('/');\n                    })\n            })\n        \n    }\n\n    // sign up\n    function signup(email, password, bio, id, name, photo){\n        const user = {\n              email, id, name, bio, photo\n        };\n        auth.createUserWithEmailAndPassword(email, password).then(()=>{\n            // add a user to the firestore database\n            db.collection('users').add(user);\n            \n            // add a user to the app state\n            setUsers(users.concat(user));\n\n            // set the user as a current user \n            setCurrentUserId(id);\n\n            // route to home\n            history.push('/');\n    \n        })\n    }\n\n    function addLike(postId) {\n\n        console.log(currentUserId, postId);\n\n        const like = {\n            userId: currentUserId,\n            postId,\n            datetime: new Date().toISOString()\n        };\n\n        // now using firestore\n        setLikes(likes.concat(like));\n\n        db.collection('likes').add(like);\n\n    }\n\n    function removeLike(postId) {\n\n        console.log(currentUserId, postId)\n\n        setLikes(likes.filter(like => !(like.userId === currentUserId && like.postId === postId)));\n        \n        db.collection('likes')\n          .where('userId', '==', currentUserId)\n          .where('postId', '==', postId)\n          .get()\n          .then(snapshot=>snapshot.forEach(doc=>doc.ref.delete()));\n    }\n\n\n    function addComment(postId, text) {\n    \n        const comment = {\n            userId: currentUserId, \n            postId,\n            text,\n            datetime: new Date().toISOString()\n        };\n\n        setComments(comments.concat(comment));\n\n        db.collection('comments').add(comment);\n\n    }\n\n    function addFollower(userId, followerId) {\n\n        const follower = {\n            userId: userId,\n            followerId: followerId\n        }\n\n        setFollowers(followers.concat(follower));\n\n        db.collection('followers').add(follower);\n\n    }\n\n    function removeFollower(userId, followerId) {\n\n        let filteredFollowers = followers.filter(f => f.userId === userId && f.followerId === followerId ? false : true)\n\n        setFollowers(filteredFollowers);\n\n        db.collection('followers')\n            .where('userId', '==', userId)\n            .where('followerId', '==', followerId)\n            .get()\n            .then(snapshot => snapshot.forEach(doc => doc.ref.delete()));\n    }\n\n    function addPost(photo, desc){\n        const post = {\n            id: uniqueId('post'),\n            userId: currentUserId,\n            photo: photo,\n            desc,\n            datetime: new Date().toISOString()\n        }\n\n        setPosts(posts.concat(post));\n\n        // add post to firestore?\n\n    }\n\n\n\treturn (\n        <StoreContext.Provider value={ {\n            currentUserId, users,posts,comments,followers,likes,\n            signup,\n            login,\n            addComment,\n            addLike,\n            removeLike,\n            addPost,\n            addFollower,\n            removeFollower,\n        } }>\n            {props.children}\n        </StoreContext.Provider>\n    )\n}\n\nexport default StoreContextProvider;\n\n// export the context so that other components can import\nexport const StoreContext = createContext(); \n","\n// utils/publicUrl\n\nlet publicUrl = assetPath => {\n    return assetPath.startsWith('/') ? process.env.PUBLIC_URL + assetPath : assetPath;\n}\n\nexport default publicUrl;","// return time elapsed \nlet timespan = (date) =>{\n  var seconds = Math.floor((new Date() - new Date(date)) / 1000);\n\n  var interval = Math.floor(seconds / 31556926);\n\n  if (interval >= 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval >= 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval >= 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval >= 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval >= 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\n\nexport default timespan;","\nimport React, {useState} from 'react';\nimport css from './Post.module.css';\nimport publicUrl from 'utils/publicUrl';\nimport timespan from 'utils/timespan';\nimport {Link} from 'react-router-dom';\n\nfunction Post(props) {\n\n    const [comment, setComment] = useState('');\n    const [toggleComment, setToggleComment] = useState(false); // hidden initially\n\n    function renderComments(comments) {\n        if(comments.length === 0) { return; }\n        else {\n            let arr = [];\n            comments.forEach((c, i) => arr.push(<p key={i} className={css.comment}><b>{c.userId}</b> {c.text}</p>) );\n            return arr;\n        }\n    }\n\n    function handleLike() {\n        props.onLike(props.post.id)\n    }\n\n    function handleUnlike() {\n        props.onUnlike(props.post.id)\n    }\n\n    \n    function handleSubmitComment(event){\n        props.onComment(props.post.id, comment); // this calls addComment from App.js\n        setComment(''); //reset\n        setToggleComment(false); //close comment box\n        event.preventDefault(); // prevent page refresh\n    }\n\n\n    return (\n        <div className={css.post}>\n            {/* top line is user profile and name */}\n            <div className={css.postHeader}>\n                <img className={css.profilePicture} src={publicUrl(props.user.photo)} alt=\"Profile\"/>\n                <span>\n                    {/* user ids should send the user to that profile */}\n                    <Link to={'/profile/' + props.user.id}>\n                        <b>{props.user.id}</b>\n                    </Link>\n                    \n                \n                </span>\n            </div>\n            {/* image (primary post content) */}\n            <img className={css.postImage} src={publicUrl(props.post.photo)} alt=\"Post\"/>\n            {/* like bubble, comment bubble */}\n            <div>\n                <button>\n                    { \n                        props.likes.self ? \n                            <img onClick={handleUnlike} className={css.bubble} src={publicUrl(\"/assets/unlike.svg\")} alt=\"Unlike\"/> \n                        :\n                            <img onClick={handleLike} className={css.bubble} src={publicUrl(\"/assets/like.svg\")} alt=\"Like\"/>\n                    }\n                </button>\n\n                <button>\n                    <img \n                        className={css.bubble} \n                        onClick={e => setToggleComment(!toggleComment)}\n                        src={publicUrl(\"/assets/comment.svg\")} \n                        alt=\"Comment Action\"/>\n                </button>\n                \n                \n            </div>\n            \n            {/* # likes */}\n            <p className={css.numberOfLikes}><b>{props.likes.count} likes</b></p>\n\n            {/* user provided description */}\n            <div>\n                <p className={css.description}><b>{props.post.userId}</b> {props.post.desc}</p>\n            </div>\n            {/* comments */}\n            <div>\n                {renderComments(props.comments)}\n            </div>\n\n            {/* date of post */}\n            <p className={css.datetime}>{timespan(props.post.datetime)} ago</p>\n\n            {/* form at the bottom for commenting? */}\n            {/* conditional rendering below */}\n            {\n                toggleComment &&\n                <form className={css.addComment} onSubmit={handleSubmitComment}>\n                    <input \n                        type=\"text\" \n                        placeholder=\"Add a commentâ€¦\" \n                        value={comment} \n                        onChange={e=>setComment(e.target.value)}\n                    />\n                    <button type=\"submit\">Post</button>\n                </form>\n            }\n            \n        </div>);\n}\n\nexport default Post;","\nimport React, { useContext } from 'react';\nimport { StoreContext } from 'contexts/StoreContext';\nimport Post from './Post';\nimport {useParams} from 'react-router-dom';\n\nfunction Home() {\n\n    let {\n        posts, users, comments, likes, currentUserId, \n        addComment, addLike, removeLike\n    } = useContext(StoreContext);\n\n\n    // fetch the single source of truth\n    let {postId} = useParams();\n\n    function findUser(post){\n        return users.find(user=>user.id===post.userId);\n    }\n    \n    function findComments(post){\n        return comments.filter(comment=>comment.postId===post.id);\n    }\n    \n    function findLikes(post){\n        let postLikes = likes.filter(like=>like.postId===post.id);\n        return {\n            self: postLikes.some(like=> like.userId===currentUserId),\n            count: postLikes.length\n        }\n    }\n    \n    return (\n        <div>\n            {posts\n            .sort((a,b)=>new Date(b.datetime) - new Date(a.datetime))\n            .filter(post => {\n                if(postId) {\n                    return postId === post.id;\n                }\n                else {\n                   return true; \n                }\n            })\n            .map(post =>\n                <Post\n                    key={post.id}\n                    user={findUser(post)}\n                    post={post}\n                    comments={findComments(post)}\n                    likes={findLikes(post)}\n                    onLike={addLike}\n                    onUnlike={removeLike}\n                    onComment={addComment}\n                />\n            )\n            \n            \n            }\n        </div>\n    );\n}\n\nexport default Home;","\nimport React from 'react'\nimport css from './Header.module.css';\nimport publicUrl from '../utils/publicUrl';\n\nfunction Header() {\n    return (\n        <div className={css.header}>\n\n            <div className={css.headerItem}>\n                <img src={publicUrl('/assets/camera.svg')} alt=\"Camera\"/>\n            </div>\n\n            <div className={css.headerItem}>\n                <img src={publicUrl('/assets/logo.png')} alt=\"Logo\"/>\n            </div>\n\n            <div className={css.headerItem}>\n                <img src={publicUrl('/assets/message.svg')} alt=\"Message\"/>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Header;","\nimport React from 'react';\nimport css from './Navbar.module.css';\nimport publicUrl from '../utils/publicUrl';\nimport { Link } from 'react-router-dom';\n\nfunction Navbar() {\n\n    return (\n        <nav className={css.navbar}>\n            <div className={css.navItem}>\n                <Link to=\"/\">\n                    <img src={publicUrl('/assets/home.svg')} alt=\"Home\"/>\n                </Link>\n            </div>\n            <div className={css.navItem}>\n                <Link to=\"/explore\">\n                    <img src={publicUrl('/assets/explore.svg')} alt=\"Explore\"/>\n                </Link>\n            </div>\n            <div className={css.navItem}>\n                <Link to=\"/newpost\">\n                    <img src={publicUrl('/assets/newpost.svg')} alt=\"New Post\" />\n                </Link>\n            </div>\n            <div className={css.navItem}>\n                <Link to=\"/activity\">\n                    <img src={publicUrl('/assets/activity.svg')} alt=\"Activity\" />\n                </Link>\n            </div>\n            <div className={css.navItem}>\n                <Link to=\"/profile\">\n                    <img src={publicUrl('/assets/profile.svg')} alt=\"Profile\" />\n                </Link>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navbar;","\nimport React from 'react'\n\nfunction Explore() {\n    return (\n        <div>\n            Explore\n        </div>\n    );\n}\n\nexport default Explore;","  \nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nclass FileLoader extends PureComponent {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.handleDragEnter = this.handleDragEnter.bind(this);\n\t\tthis.handleDrop = this.handleDrop.bind(this);\n\t\tthis.handleDragOver = this.handleDragOver.bind(this);\n\t\tthis.handleDragLeave = this.handleDragLeave.bind(this);\n\t}\n\thandleDrop(e){\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (this.props.onDrop){\n\t\t\tthis.props.onDrop(e);\n\t\t}\n\t}\n\thandleDragEnter(e){\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis.dragTargetSaved=e.target;\n\t\tif (this.props.onDragEnter){\n\t\t\tthis.props.onDragEnter(e);\n\t\t}\n\t}\n\thandleDragOver(e){\n\t\tif (e.dataTransfer.types.includes('Files')===false){\n\t\t\treturn;\n\t\t}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (this.props.onDragOver){\n\t\t\tthis.props.onDragOver(e);\n\t\t}\n\t}\n\thandleDragLeave(e){\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tif (this.props.onDragLeave &&  this.dragTargetSaved===e.target){\n\t\t\tthis.props.onDragLeave(e);\n\t\t}\n\t}\n\n\trender () {\n\t\tlet child = React.Children.only(this.props.children);\n\t\treturn  React.cloneElement(child,\n\t\t\t{\t\n\t\t\t\tonDragEnter: this.handleDragEnter,\n\t\t\t\tonDragOver: this.handleDragOver,\n\t\t\t\tonDragLeave: this.handleDragLeave,\n\t\t\t\tonDrop: this.handleDrop\n\n\t\t\t});\n\t\n\t}\n}\n\nFileLoader.propTypes = {\n\tonDrop:PropTypes.func,\n\tonDragEnter:PropTypes.func,\n\tonDragOver:PropTypes.func,\n\tonDragLeave:PropTypes.func,\n\tchildren:PropTypes.element.isRequired,\n};\n\nexport default FileLoader;","\n// context lab\nimport React, { useContext, useState } from 'react';\nimport { StoreContext } from 'contexts/StoreContext';\n\nimport css from './NewPost.module.css';\nimport FileLoader from './FileLoader.js';\nimport {useHistory} from 'react-router-dom'\n\nimport { Redirect } from \"react-router-dom\";\n\nfunction NewPost() {\n\n    let { addPost, currentUserId } = useContext(StoreContext);\n\n    const [dragging, setDragging] = useState(false);\n    const [desc, setDesc] = useState('');\n    const [photo, setPhoto] = useState(null);\n    const [error, setError] = useState('');\n    const history = useHistory();\n\n    function handleFileDragEnter(e){\n        setDragging(true);\n    }\n    function handleFileDragLeave(e){\n        setDragging(false);\n    }\n    function handleFileDrop(e){\n        if (e.dataTransfer.types.includes('Files')===false){\n            return;\n        }\n        if (e.dataTransfer.files.length>=1){\n            let file = e.dataTransfer.files[0];\n            if (file.size>1000000){// larger than 1 MB\n                return;\n            }\n            if (file.type.match(/image.*/)){\n                    let reader = new FileReader();\t\t\t\n                    reader.onloadend = (e2) => {\n                        // call setPhoto with e.target.result (this is a Base64 image string)\n                        setPhoto(e2.target.result);\n                    };\n                    reader.readAsDataURL(file);\n                }\n        }\n        setDragging(false);    \n    }\n    function handleDescChange(e){\n        setDesc(e.target.value);\n    }\n    function handleSubmit(e){\n        // 1. Prevent default behavior\n        e.preventDefault();\n        // 2. Show error msg if failed and exit\n        if(photo === null || desc === '') { \n            console.error('Could not add post'); return; \n        }\n        // 3. Call the storage update function passed from the parent\n        addPost(photo, desc);\n        // 3. Clear error msg\n        setError('');\n        // return home?\n        history.push('/');\n    }\n    function handleCancel(){\n        history.goBack();\n    }\n\n    return (\n        !currentUserId ? <Redirect to=\"login\"/> :\n        <div>\n            <div className={css.photo}>\n              {!photo?  <div className={css.message}>Drop your image</div>:\n                        <img src={photo} alt=\"New Post\"/>}\n                        <FileLoader\n                        onDragEnter={handleFileDragEnter}\n                        onDragLeave={handleFileDragLeave}\n                        onDrop={handleFileDrop}\n                        >\n                            <div className={[css.dropArea, dragging?css.dragging:null].join(' ')}></div>\n                        </FileLoader>\n              \n            </div>\n            \n            <div className={css.desc} >\n                <input onChange={handleDescChange} className={css.textarea}></input>\n\n            </div>\n            <div className={css.error}>\n                {/* show error message */}\n                {error && <p>ERROR TRYING TO UPLOAD YOUR IMAGE</p>}\n            </div>\n            <div className={css.actions}>\n              <button onClick={handleCancel}>Cancel</button>\n              <button onClick={handleSubmit}>Share</button>          \n            </div>\n        </div>\n      );\n}\n\nexport default NewPost;","\nimport React from 'react'\n\nfunction Activity() {\n    return (\n        <div>\n            Activity\n        </div>\n    );\n}\n\nexport default Activity;","import React from 'react';\nimport css from './PostThumbnail.module.css';\nimport publicUrl from 'utils/publicUrl';\nfunction PostThumbnail(props) {\n  return (\n    <div className={css.square}>\n      <div className={css.content}>\n        <img className={css.image} src={publicUrl(props.post.photo)} alt=\"Post Thumbnail\"/>\n      </div>\n        \n    </div>\n  );\n}\n\nexport default PostThumbnail;\n","\nimport React, { useContext } from 'react';\nimport { StoreContext } from 'contexts/StoreContext';\n\nimport css from './Profile.module.css'\nimport publicUrl from '../utils/publicUrl';\nimport PostThumbnail from './PostThumbnail';\nimport {Link, useParams} from 'react-router-dom';\n\nimport { Redirect } from \"react-router-dom\";\n\n\nfunction Profile() {\n\n    let { \n        users, posts, followers,\n        currentUserId,addFollower,removeFollower \n    } = useContext(StoreContext);\n\n    console.log(\"PROFILE: current user id: \" + currentUserId)\n\n    let params = useParams();\n    \n    let currentUser;\n    let userPosts;\n    // define follower count and following count\n    let followerCount = followers.filter(f => f.userId === currentUserId).length;\n    let followingCount = followers.filter(f => f.followerId === currentUserId).length;\n\n    // user looking for another user\n    if(params.userId === undefined || currentUserId === undefined) {\n        currentUser = users.filter( user => user.id === currentUserId)[0];\n        userPosts = posts.filter(post => post.userId === currentUserId);\n    }\n    else {\n        currentUser = users.filter( user => user.id === params.userId)[0];\n        userPosts = posts.filter(post => post.userId === currentUser.id);\n    }\n\n    function renderThumbnails() {\n        \n        let thumbnails = [];\n\n        userPosts.forEach((post, index) => {\n            thumbnails.push(\n            <Link key={index} to={'../' + post.id}>\n                <PostThumbnail key={index} post={post} />\n            </Link>\n                \n            )\n        });\n\n        return thumbnails;\n    }\n\n    function handleFollow(event) {\n        addFollower(currentUserId, params.userId);\n        event.preventDefault();\n    }\n\n    function handleUnfollow(event) {\n        removeFollower(currentUserId, params.userId);\n        event.preventDefault();\n    }\n\n    function renderButton() {\n\n        let follower = followers\n            .filter(f => f.userId === currentUserId && f.followerId === params.userId)[0];\n        \n        return(\n            follower === undefined ? \n                <button onClick={handleFollow}>Follow</button> :\n                <button onClick={handleUnfollow}>Unfollow</button>\n                \n        );\n    }\n\n    return (\n        !currentUserId ? <Redirect to=\"login\"/> :\n        <div className={css.profile}>\n            \n            <section className={css.profileInfo}>\n                <img className={css.profilePic} src={publicUrl(currentUser.photo)} alt=\"Profile\"/>\n                <p className={css.userId}>{currentUser.id}</p>\n                \n            </section>\n\n            {renderButton()}\n\n            <section>\n                <p><b>{currentUser.name}</b></p>\n                <p>{currentUser.bio}</p>\n            </section>\n\n            <section className={css.stats}>\n                <div>\n                    <p><b>{userPosts.length}</b></p>\n                    <p>posts</p>\n                </div>\n\n                <div>\n                    <p><b>{followerCount}</b></p>\n                    <p>followers</p>\n                </div>\n                \n                <div>\n                    <p><b>{followingCount}</b></p>\n                    <p>following</p>\n                </div>\n                \n                \n            </section>\n\n            <section className={css.posts}>\n                {renderThumbnails()}\n            </section>\n\n        </div>\n\n    );\n}\n\nexport default Profile;","import React, {useState, useContext} from 'react';\nimport css from './Login.module.css';\nimport {\n    useHistory\n  } from \"react-router-dom\";\nimport {StoreContext} from 'contexts/StoreContext';\nfunction Login() {\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const {login} = useContext(StoreContext);\n    \n    function handleEmail(e){\n        setEmail(e.target.value);   \n    }\n    \n    function handlePassword(e){\n        setPassword(e.target.value);\n    }\n    \n    function handleSubmit(e){\n        e.preventDefault();\n        console.log(email==='', password === '');\n        if (email==='' || password === ''){\n            setError('Either email or password is missing...');\n            return;\n        }\n        login(email, password);\n        setEmail('');\n        setPassword('');\n        setError('');\n\n    }\n    function handleSignup(){\n        history.push('/signup');\n    }\n    return (\n        <div className= {css.container}>\n            <h3 className={css.header}>Login</h3>\n            <form className= {css.loginForm} onSubmit={handleSubmit}>\n                <label>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"email\"\n                        value={email}\n                        onChange={handleEmail}\n                    />\n                </label>\n                <label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"password\"\n                        value={password}\n                        onChange={handlePassword}\n                    />\n                </label>\n                \n                <div className={css.error}>\n                    {error}\n                </div>\n                <button className={css.loginBtn} type=\"submit\">Log In</button>\n            </form>\n            <div className={css.signup}>\n                Didn't have an account? &nbsp;\n                <button className={css.signupBtn} onClick={handleSignup}>Sign Up</button>\n            </div>\n            \n        </div>\n    );\n}\n\nexport default Login;\n","import React, {useState, useContext} from 'react';\nimport css from './Signup.module.css';\nimport {\n    useHistory\n  } from \"react-router-dom\";\nimport FileLoader from './FileLoader.js';\nimport {StoreContext} from 'contexts/StoreContext';\nfunction Signup(props) {\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [id, setId] = useState('');\n    const [password, setPassword] = useState('');\n    const [bio, setBio] = useState('');\n    const [name, setName] = useState('');\n    const [photo, setPhoto] = useState('');\n    const [error, setError] = useState('');\n    const [dragging, setDragging] = useState(false); // to show a dragging effect\n    const {signup} = useContext(StoreContext);\n    function handleId(e){\n        setId(e.target.value);   \n    }\n    function handleEmail(e){\n        setEmail(e.target.value);   \n    }\n    function handlePassword(e){\n        setPassword(e.target.value);\n    }\n    function handleBio(e){\n        setBio(e.target.value);\n    }\n    function handleName(e){\n        setName(e.target.value);\n    }\n    function handleFileDragEnter(e){\n        setDragging(true);\n    }\n    function handleFileDragLeave(e){\n        setDragging(false);\n    }\n    function handleFileDrop(e){\n        if (e.dataTransfer.types.includes('Files')===false){\n                return;\n        }\n        if (e.dataTransfer.files.length>=1){\n          let file = e.dataTransfer.files[0];\n          if (file.size>1000000){// larger than 1 MB\n            return;\n          }\n          if (file.type.match(/image.*/)){\n                let reader = new FileReader();\t\t\t\n                reader.onloadend = (e) => {\n                    setPhoto(e.target.result);\n            \n                };\n                reader.readAsDataURL(file);\n            }\n        }\n        setDragging(false);\n    }\n    function handleSubmit(e){\n        e.preventDefault();\n        if (email==='' || password === ''){\n            setError('Id and password is missing...');\n            return;\n        }\n        \n        signup(email, password, bio, id, name, photo);\n        setEmail('');\n        setPassword('');\n        setBio('');\n        setId('');\n        setName('');\n        setPhoto('');\n        setError('');\n\n    }\n    function handleLogin(){\n        history.push('/login');\n    }\n    return (\n        <div className= {css.container}>\n            <h3 className={css.header}>Signup</h3>\n            <div className={css.photo}>\n            {!photo?  <div className={css.message}>Drop your photo</div>:\n                        <img src={photo} alt=\"New Post\"/>}\n                <FileLoader\n                onDragEnter={handleFileDragEnter}\n                onDragLeave={handleFileDragLeave}\n                onDrop={handleFileDrop}\n                >\n                <div className={[css.dropArea, dragging?css.dragging:null].join(' ')}\n                ></div>\n            </FileLoader>\n            \n            </div>\n            <form className= {css.signupForm} onSubmit={handleSubmit}>\n                <label>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"email\"\n                        value={email}\n                        onChange={handleEmail}\n                    />\n                </label>\n                <label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"password\"\n                        value={password}\n                        onChange={handlePassword}\n                    />\n                </label>\n                <label>\n                    <input\n                        type=\"id\"\n                        name=\"id\"\n                        placeholder=\"id\"\n                        value={id}\n                        onChange={handleId}\n                    />\n                </label>\n                <label>\n                    <input\n                        type=\"name\"\n                        name=\"name\"\n                        placeholder=\"name\"\n                        value={name}\n                        onChange={handleName}\n                    />\n                </label>\n                <label>\n                    <textarea\n                        type=\"bio\"\n                        name=\"bio\"\n                        placeholder=\"bio\"\n                        row=\"2\"\n                        value={bio}\n                        onChange={handleBio}\n                    />\n                </label>\n                <div className={css.error}>\n                    {error}\n                </div>\n                <button className={css.signupBtn} type=\"submit\">Sign Up</button>\n            </form>\n            <div className={css.login}>\n                Already have an account?\n                &nbsp;\n                <button className={css.loginBtn} onClick={handleLogin}>Log In</button>\n            </div>\n            \n        </div>\n    );\n}\n\nexport default Signup;\n","\nimport Home from './Home';\nimport Header from './Header';\nimport Navbar from './Navbar';\nimport Explore from './Explore';\nimport NewPost from './NewPost';\nimport Activity from './Activity';\nimport Profile from './Profile';\nimport Login from './Login'\nimport Signup from './Signup'\nimport css from './App.module.css';\n\n// react router\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\n\n// context\nimport StoreContextProvider from 'contexts/StoreContext'\n\n\nfunction App() {\n\n  return (\n    // add browser router\n    <Router basename={process.env.PUBLIC_URL}>\n      <StoreContextProvider>\n        <div className={css.container}>\n          <Header/>\n          <main className={css.content}>\n            <Switch>\n              \n              {/* explore */}\n              <Route path='/explore'>\n                <Explore />\n              </Route>\n              \n              {/* new post */}\n              <Route path='/newpost'>\n                <NewPost />\n              </Route>\n              \n              {/* activity */}\n              <Route path='/activity'>\n                <Activity />\n              </Route>\n              \n              {/* signup */}\n              <Route path=\"/signup\">\n                <Signup />\n              </Route>\n              \n              {/* profile */}\n              <Route path='/profile/:userId?'>\n                <Profile />\n              </Route>\n              \n              {/* login */}\n              <Route path=\"/login\">\n\t              <Login />\n              </Route>\n              \n              {/* home */}\n              <Route path='/:postId?'>\n                <Home />\n              </Route>\n\n            </Switch>\n          </main>\n          <Navbar/>\n        </div>\n      </StoreContextProvider>\n    </Router>\n    \n  );\n  \n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}